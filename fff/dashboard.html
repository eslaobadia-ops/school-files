<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Dashboard</title><link rel="stylesheet" href="assets/css/style.css"></head><body>
<div class="container" style="max-width:1000px;margin:20px auto">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>Student Dashboard</h2>
    <div>
      <button id="logoutBtn">Logout</button>
    </div>
  </div>
  <div class="card" style="padding:16px;margin-top:12px">
    <h3>Profile</h3>
    <p><strong>Name:</strong> <span id="studentName">-</span></p>
    <p><strong>Email:</strong> <span id="studentEmail">-</span></p>
  </div>

  <div class="card" style="padding:16px;margin-top:12px">
    <h3>Results</h3>
    <pre id="resultsPre">Loading...</pre>
  </div>

  <div class="card" style="padding:16px;margin-top:12px">
    <h3>Notifications</h3>
    <pre id="notes">Loading...</pre>
  </div>
</div>

<script src="assets/js/config.js"></script>
<script src="assets/js/app.js"></script>
<script>
document.getElementById('logoutBtn').onclick = logout;

async function loadAll(){
  const p = await apiFetch('/api/student/profile');
  if(!p.ok) return alert('Please login'), location.href='login.html';
  document.getElementById('studentName').innerText = p.data.user.name;
  document.getElementById('studentEmail').innerText = p.data.user.email;

  const r = await apiFetch('/api/student/results');
  document.getElementById('resultsPre').innerText = JSON.stringify(r.data.results || [], null, 2);

  const n = await apiFetch('/api/notifications');
  document.getElementById('notes').innerText = (n.data.notifications || []).map(x=>x.title + '\n' + x.message).join('\n\n');
}

loadAll();
</script>
</body></html>

<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Register</title><link rel="stylesheet" href="assets/css/style.css"></head>
<body>
<div class="container card" style="max-width:520px;margin:40px auto">
  <h2>Register</h2>
  <div class="form-row"><input id="name" placeholder="Full name"></div>
  <div class="form-row"><input id="email" placeholder="Email"></div>
  <div class="form-row"><input id="password" type="password" placeholder="Password"></div>
  <div class="form-row"><button id="regBtn">Create account</button></div>
  <p class="small">Already have account? <a href="login.html">Login</a></p>
</div>
<script src="assets/js/config.js"></script>
<script src="assets/js/app.js"></script>
<script>
document.getElementById('regBtn').onclick = async function(){
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  if(!name||!email||!password) return alert('All fields required');
  const res = await apiFetch('/api/auth/register', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ name, email, password }) });
  if(res.status===201 || res.ok) { alert('Registered. Please check email if verification enabled. Proceed to login.'); location.href='login.html'; }
  else alert(res.data.message || 'Registration failed');
}
</script>
</body></html>
